<!DOCTYPE html>
<html>
<body>

<script src='https://unpkg.com/brc-atlas-bigr/dist/bigr.umd.js'></script>
<!-- <script src='../dist/bigr.umd.js'></script> -->
<script src="https://d3js.org/d3.v5.min.js"></script>

<script>
  const transOpts = bigr.namedTransOpts.BI3
  const height = 500
  const width = bigr.widthFromHeight(transOpts, height)
  const svg = d3.select('body').append('svg')
    .attr('width', width).attr('height', height)
  
  const transform = bigr.transformFunction(transOpts, height)
  const d3Transform = d3.geoTransform({
    point: function(x, y) {
      tP = transform([x,y])
      tX = tP[0]
      tY = tP[1]
      this.stream.point(tX, tY)
    }
  })
  const path = d3.geoPath()
    .projection(d3Transform)

  d3.json("https://unpkg.com/brc-atlas-bigr/dist/assets/GB-I-CI-27700-reduced.geojson")
    .then(function(data) {
      svg.append("path")
        .datum(data)
        .attr("d", path)
    })

</script>

</body>
</html>